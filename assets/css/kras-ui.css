/* Root theme variables and base styles */
:root {
  color-scheme: light dark;
  /* Kolor akcentu domyślny (hue w stopniach) */
  --accent-hue: 22;
  /* Kolory bazowe dla motywu jasnego */
  --bg: #ffffff;
  --ink: #1f1f1f;
  --muted: #6b7280;
  --card: #ffffff;
}
:root[data-theme="dark"] {
  /* Kolory dla trybu ciemnego */
  --bg: #0b0f17;
  --ink: #e9edf5;
  --muted: #8a94a7;
  --card: #12151d;
}
:root[data-theme="ebook"] {
  /* Kolory dla trybu e-book (papier) */
  --bg: #F7F3E8;
  --ink: #1C1A16;
  --muted: #6B665E;
  --card: #FBF8EF;
}
/* Wczytanie fontu Inter (zmienna) z subsetem (latin+ext) */
@font-face {
  font-family: "Inter";
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  size-adjust: 100%;
  src: url("/assets/fonts/InterVariable.woff2") format("woff2-variations");
  unicode-range: U+000-5FF; /* basic Latin + PL */
}
/* Preferencja reduce-motion: wyłączenie animacji i przejść, dopóki .no-motion jest na <html> */
html.no-motion *, 
html.no-motion *::before, 
html.no-motion *::after {
  animation: none !important;
  transition: none !important;
}
/* Utillity class for screen readers (duplicate of .visually-hidden from HTML <style>) */
.sr-only { position: absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); clip-path: inset(50%); white-space:nowrap; border:0; }

/* --- Component styles --- */

/* Site header (sticky top bar) */
.site-header {
  position: sticky;
  top: 0; z-index: 40;
  backdrop-filter: saturate(1.2) blur(8px);
  background: color-mix(in srgb, var(--bg) 70%, transparent);
  border-bottom: 1px solid color-mix(in srgb, var(--ink) 15%, transparent);
  overflow: clip;
}
.site-header a, .site-header button { outline-offset: 2px; }  /* focus outline spacing */
#mega-root { 
  position: absolute; left: 0; right: 0; top: 100%; 
  background: var(--card); 
  box-shadow: 0 10px 40px rgba(0,0,0,0.14);
}
/* (Mega-menu panels and grid would be here, if needed) */

/* Theme toggle button icons */
.theme-toggle { position: relative; }
.theme-toggle .sun, .theme-toggle .moon, .theme-toggle .paper {
  display: inline-block;
  width: 16px; height: 16px;
  background: currentColor;
  mask-size: contain; mask-position: center; mask-repeat: no-repeat;
}
/* (Here you could define mask-image: url() for sun, moon, paper icons if using SVG icons) */
.theme-hint {
  position: absolute;
  top: 100%; right: 0;
  background: var(--card);
  color: var(--ink);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
}
.theme-hint.show { opacity: 1; }

/* Hero section layout */
.hero-wrap { 
  display: grid; 
  gap: clamp(24px, 5vw, 40px); 
}
@media (min-width: 800px) {
  .hero-wrap { 
    grid-template-columns: 1fr 1fr; 
    align-items: center;
  }
}
.hero-media {
  width: 100%; height: auto;
  opacity: 0;
  transition: opacity 0.6s ease;
}
.hero.is-ready .hero-media { opacity: 1; }  /* Po załadowaniu hero, odsłania obraz/wideo */

/* Cards grid & styles */
.cards { display: grid; gap: clamp(16px, 3vw, 32px); }
.cards--wrap { grid-auto-flow: column; }  /* horizontal wrapping for card container */
.cards--scroll { 
  display: flex; overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}
.cards--scroll .card { 
  flex: 0 0 clamp(260px, 80vw, 340px);
  scroll-snap-align: start;
}
.card {
  background: var(--card);
  border-radius: var(--r, 16px);
  box-shadow: var(--shadow-1, 0 4px 18px rgba(0,0,0,0.08));
  transition: transform 0.3s, box-shadow 0.3s;
}
.card > .pad { padding: clamp(16px, 3vw, 24px); } /* inner padding wrapper if needed */
.card:hover, .card:focus-within { transform: translateY(-2px); }  /* subtle lift on hover/focus */
.card:hover img, .card:focus-within img { transform: scale(1.05); }  /* zoom image on hover */
.card.glass { 
  background: color-mix(in srgb, var(--card) 60%, transparent);
  backdrop-filter: blur(8px);
}
.card.edge { 
  border: 1px solid color-mix(in srgb, var(--ink) 20%, transparent);
}
.card.soft3d { 
  box-shadow: 0 6px 12px rgba(0,0,0,0.12), 0 1px 0 rgba(255,255,255,0.05) inset;
}
.card.illume { 
  box-shadow: 0 0 0 1px color-mix(in srgb, var(--ink) 10%, transparent),
              0 0 8px hsl(var(--accent-hue) 80% 60% / 35%);
}

/* 3D tilt effect for cards container */
.tilt-cards { perspective: 1000px; }
.tilt-cards .card { transform-style: preserve-3d; }
.tilt-cards .card:hover, 
.tilt-cards .card:focus-within {
  transform: translateY(-4px) rotateX(1.5deg) rotateY(-1.5deg);
}

/* Split-hero (offer section) layout */
.split-hero { position: relative; height: 140vh; }
.split-hero__sticky { 
  position: sticky; top: calc(54px + 1svh); z-index: 1;
  display: grid; place-items: center;
  padding-block: clamp(18px, 4vh, 32px);
  min-height: clamp(340px, 58vh, 680px);
}
.split-hero__stack { 
  --stack-h: clamp(140px, 14vw, 220px);
  position: relative;
  width: min(var(--offer-maxw, 860px), 92vw);
  height: var(--stack-h);
  margin-inline: auto;
  container-type: inline-size;
}
.split-hero--narrow .split-hero__stack { --offer-maxw: 860px; }
.split-hero--wide   .split-hero__stack { --offer-maxw: 1100px; }
.split-hero__stack > * { position: absolute; inset: 0; }
.split-hero__title { 
  opacity: calc(1 - var(--p, 0));
  transition: opacity 0.2s linear;
}
.title-half { 
  display: grid; place-items: center;
  line-height: 1; text-transform: uppercase;
  font-weight: 900;
  font-size: clamp(36px, 16cqw, 96px);
  letter-spacing: 0.04em;
  color: var(--ink);
  text-shadow: 0 1px 0 color-mix(in oklab, var(--ink) 10%, transparent);
  will-change: transform, opacity;
}
.title-left  { 
  clip-path: inset(0 50% 0 0);
  transform: translateX(calc(-50cqw * var(--p, 0)));
}
.title-right {
  clip-path: inset(0 0 0 50%);
  transform: translateX(calc( 50cqw * var(--p, 0)));
}
.split-hero__rail {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: clamp(220px, 42cqw, 360px);
  gap: 16px;
  overflow-x: auto;
  padding: 6px;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  align-items: stretch;
  height: 100%;
  opacity: var(--p, 0);
  transform: translateY(calc(14px * (1 - var(--p, 0))));
  transition: opacity 0.2s linear, transform 0.2s ease;
  pointer-events: none;
}
.split-hero__rail > * { scroll-snap-align: start; }
.offer-card {
  position: relative;
  height: 100%;
  border-radius: 18px;
  overflow: hidden;
  isolation: isolate;
  background: var(--card);
  border: 1px solid color-mix(in srgb, var(--ink) 20%, transparent);
  box-shadow: var(--shadow-1, 0 4px 18px rgba(0,0,0,0.08));
}
.offer-card img {
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  transform: scale(1.02);
  transition: transform 0.35s ease;
}
.offer-card__title {
  position: absolute; left: 0; right: 0; bottom: 24px;
  padding: 0 16px;
  font-weight: 600;
  font-size: 18px;
  color: var(--ink);
  text-shadow: 0 0 4px rgba(255,255,255,0.8);
}
.offer-card__desc {
  position: absolute; left: 0; right: 0; bottom: 0;
  padding: 0 16px 16px;
  font-size: 14px;
  color: var(--muted);
  background: linear-gradient(0deg, var(--bg) 10%, transparent);
  /* truncate text gracefully */
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Bottom navigation dock (mobile) */
bottom-dock {
}
.bottom-dock {
  position: fixed; bottom: 0; left: 0; right: 0; z-index: 50;
  display: flex; justify-content: space-around;
  padding: 4px env(safe-area-inset-right) calc(4px + env(safe-area-inset-bottom)) env(safe-area-inset-left);
  background: var(--card);
  box-shadow: 0 -2px 10px rgba(0,0,0,0.08);
}
.dock-btn {
  flex: 1; 
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  background: none; border: 0;
  padding: 6px 0;
  font-size: 10px; line-height: 1;
  color: var(--ink);
}
.dock-btn span {
  width: 24px; height: 24px;
  margin-bottom: 2px;
  background: currentColor;
  mask-repeat: no-repeat; mask-position: center; mask-size: contain;
}
/* Ikony docka za pomocą mask-image (SVG data URI) */
.dock-home span {
  mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M3 12l9-9 9 9v9h-6v-6h-6v6H3z"/></svg>');
}
.dock-quote span {
  mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M6.6 10.8a15 15 0 0 0 6.6 6.6l2.2-2.2a1 1 0 0 1 1.1-.2 11.4 11.4 0 0 0 3.5 1.6 1 1 0 0 1 1 1v3.5a1 1 0 0 1-1 1A17.5 17.5 0 0 1 2 6a1 1 0 0 1 1-1h3.5a1 1 0 0 1 1 1 11.4 11.4 0 0 0 .6 3.5 1 1 0 0 1-.2 1.1z"/></svg>');
}
.dock-menu span {
  mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M3 6h18M3 12h18M3 18h18" stroke="black" stroke-width="2" stroke-linecap="round"/></svg>');
}
/* Wyróżnienie środkowego przycisku (Wyceń) */
.dock-btn.dock-quote {
  flex: 1.4;
  transform: translateY(-8px);
}
.dock-btn em { font-style: normal; }

/* Neon fullscreen menu overlay */
.neon {
  position: fixed; inset: 0;
  display: none;
  align-items: center; justify-content: center;
  background: rgba(0,0,0,0.8);
  backdrop-filter: blur(12px);
}
.neon.is-open { display: flex; }
.neon__inner {
  background: var(--card);
  color: var(--ink);
  padding: 32px;
  border-radius: var(--r, 16px);
  box-shadow: 0 0 0 4px hsl(var(--accent-hue) 90% 60% / 0.8);
  max-height: 90vh;
  overflow: auto;
  min-width: min(90vw, 400px);
  position: relative;
}
.neon__nav a {
  display: block;
  padding: 8px 0;
  color: inherit;
  text-decoration: none;
}
.neon__close {
  position: absolute; top: 16px; right: 16px;
  background: none; border: 0;
  font-size: 32px; line-height: 1;
  color: inherit;
}

/* Ebook theme adjustments: max content width, justified text */
:root[data-theme="ebook"] body {
  background: var(--bg);
  color: var(--ink);
}
:root[data-theme="ebook"] .content {
  max-width: 68ch;
  margin-inline: auto;
  line-height: 1.75;
}
:root[data-theme="ebook"] p,
:root[data-theme="ebook"] li {
  text-align: justify;
}

/* --- Utilities & Animations --- */

/* Utility class to hide elements (used for dock when footer visible) */
.is-hidden { display: none !important; }

/* Fade-slide animation: elements appear with upward movement */
.fade-slide {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.4s ease, transform 0.4s ease;
}
.fade-slide.is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Shimmer effect (for loading placeholders or accents) */
.shimmer {
  background: linear-gradient(90deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0.0) 100%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}
@keyframes shimmer {
  0%   { background-position: -100% 0; }
  100% { background-position: 100% 0; }
}

/* Efekt znikającego przycisku po kliknięciu */
a[data-disappear],
button[data-disappear] {
  transition: opacity 0.14s ease, transform 0.14s ease;
  will-change: opacity, transform;
}
a[data-disappear].bye,
button[data-disappear].bye {
  opacity: 0;
  transform: scale(0.92);
  pointer-events: none;
}
@media (prefers-reduced-motion: reduce) {
  a[data-disappear],
  button[data-disappear] {
    transition: none;
  }
}
