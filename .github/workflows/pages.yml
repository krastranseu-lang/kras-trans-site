version: 5

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 1) STAÅE / KLUCZE â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
constants:
  SITE_URL: "https://kras-trans.com"
  APPS_URL: "https://script.google.com/macros/s/AKfycbyQcsU1wSCV6NGDQm8VIAGpZkL1rArZe1UZ5tutTkjJiKZtr4MjQZcDFzte26VtRJJ2KQ/exec"
  APPS_KEY: "kb6mWQJQ3hTtY0m1GQ7v2rX1pC5n9d8zA4s6L2u"
  GA_ID: "G-5FYE42J3BE"
  GSC_VERIFICATION: "Q3XgXOegwnvV6sBj31MbGlldhfD2uzmHBnR6kvLFj7Y"
  BING_SITE_AUTH_USER: "14E8C53A3FC003C7810857FCFA9310A0"   # wygenerujemy dist/BingSiteAuth.xml
  INDEXNOW_KEY: ""                    # podasz pÃ³Åºniej (builder zrobi /{key}.txt)
  NEWS_ENABLED: false                 # news-sitemap wÅ‚Ä…czymy po starcie blog/news

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 2) STRONA / I18N / KONTAKT â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
site:
  brand: "Kras-Trans"
  legalName: "Kras-Trans Sp. z o.o."
  url: "${SITE_URL}"
  defaultLang: "pl"
  locales:
    pl: { name: "Polski",  flag: "/assets/flags/pl.svg" }
    en: { name: "English", flag: "/assets/flags/en.svg" }
    de: { name: "Deutsch", flag: "/assets/flags/de.svg" }
    fr: { name: "FranÃ§ais",flag: "/assets/flags/fr.svg" }
    it: { name: "Italiano",flag: "/assets/flags/it.svg" }
    ru: { name: "Ğ ÑƒÑÑĞºĞ¸Ğ¹", flag: "/assets/flags/ru.svg" }
    ua: { name: "Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°", flag: "/assets/flags/ua.svg" }
  contacts:
    phone: "+48 793 927 467"
    email: "contact@kras-trans.eu"
    nip: "726 266 23 03"
    address: "ul. Trzcinowa 14/11, 91-495 ÅÃ³dÅº, Polska"
    sameAs:
      - "https://www.instagram.com/kras_trans.express.eu?igsh=bHZkODhlazFicGt2&utm_source=qr"
      - "https://www.linkedin.com/company/kras-trans"
      - "https://www.facebook.com/share/sS2jgJPwdgvrF4az/?mibextid=LQQJ4d"
  analytics:
    ga4:
      measurement_id: "${GA_ID}"
      defer: true
      consent_mode_hook: true
  verification:
    google: "${GSC_VERIFICATION}"          # <meta name="google-site-verification">
    bing_wmt_meta: ""                      # <meta name="msvalidate.01" ...> (opcjonalne)
    bing_site_auth_user: "${BING_SITE_AUTH_USER}"  # generator wygeneruje BingSiteAuth.xml
  privacy:
    referrerPolicy: "strict-origin-when-cross-origin"

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 3) CMS (Apps Script) â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
cms:
  endpoint: "${APPS_URL}"
  key: "${APPS_KEY}"
  expects: ["ok","pages","routes","nav","strings","faq","places","autolinks","hreflang","sitemap","redirects","company","blocks"]
  client:
    cache: false
    enforceLangRedirect: true

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 4) ÅšCIEÅ»KI / ROUTING â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
paths:
  src:  { templates: "templates", assets: "assets", data: "data", tools: "tools" }
  out:  "dist"

routing:
  locales_regex: "^(pl|en|de|fr|it|ru|ua)$"
  enforce_lang_prefix: true
  trailing_slash: true

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 5) TEMPLATES / ASSETS â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
templates:
  base: "templates/base.html"
  header: "templates/header.html"
  # domyÅ›lny
  page: "templates/page.html"
  # typy specjalne
  location:   "templates/location.html"
  blog_index: "templates/blog_index.html"
  blog_post:  "templates/blog_post.html"
  reviews:    "templates/reviews.html"
  jobs_index: "templates/jobs_index.html"
  job_item:   "templates/job_item.html"

# REGUÅY â€rÃ³Å¼ne HTML dla rÃ³Å¼nych podstronâ€ (automatyczny dobÃ³r)
template_rules:
  by_type:
    home:      "templates/page.html"
    page:      "templates/page.html"
    service:   "templates/page.html"
    city_service: "templates/location.html"
    blog:      "templates/blog_index.html"
    blog_post: "templates/blog_post.html"
    reviews:   "templates/reviews.html"
    job:       "templates/job_item.html"
  by_slugKey:
    pricing:   "templates/page.html"
    contact:   "templates/page.html"
    quote:     "templates/page.html"
  by_slug_pattern:
    - { match: "^uslugi/.+$", template: "templates/page.html" }
    - { match: "^blog/.+$",   template: "templates/blog_post.html" }

assets:
  css: ["/assets/css/header.css","/assets/css/home.css"]
  js:  ["/assets/js/header.js","/assets/js/home.js"]
  preload:
    - { as: "style", href: "/assets/css/header.css" }
    - { as: "image", href: "/assets/media/logo.png", fetchpriority: "high" }
  flagsPath: "/assets/flags"

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 6) NAGÅÃ“WEK / DOCK (peÅ‚ne i18n) â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
header:
  ctaSlugKey: "quote"
  hoverIntent: { open_ms: 140, close_ms: 380 }
  mega:
    columnsDefault: 4
    groups:
      services: { columns: 5, order: 60 }
      manage:   { columns: 4, order: 50 }
      company:  { columns: 3, order: 70 }
      support:  { columns: 3, order: 80 }
  dock:
    items:
      - slugKey: "home"
        icon: "ğŸ "
        labels: { pl:"Start", en:"Home", de:"Start", fr:"Accueil", it:"Home", ru:"Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ", ua:"Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ°" }
      - slugKey: "services"
        icon: "ğŸ§­"
        labels: { pl:"UsÅ‚ugi", en:"Services", de:"Leistungen", fr:"Services", it:"Servizi", ru:"Ğ£ÑĞ»ÑƒĞ³Ğ¸", ua:"ĞŸĞ¾ÑĞ»ÑƒĞ³Ğ¸" }
      - slugKey: "quote"
        icon: "ğŸ’¸"
        labels: { pl:"Wycena", en:"Quote", de:"Angebot", fr:"Devis", it:"Preventivo", ru:"Ğ Ğ°ÑÑ‡Ñ‘Ñ‚", ua:"ĞšĞ¾ÑˆÑ‚Ğ¾Ñ€Ğ¸Ñ" }
      - slugKey: "contact"
        icon: "ğŸ¤™"
        labels: { pl:"Kontakt", en:"Contact", de:"Kontakt", fr:"Contact", it:"Contatti", ru:"ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹", ua:"ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚" }

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 7) TOP-NAWIGACJA (peÅ‚ne i18n, zgodnie z tabelÄ…) â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
navigation:
  top:
    - slugKey: "pricing"
      order: 10
      labels: { pl:"Cennik", en:"Pricing", de:"Preise", fr:"Tarifs", it:"Prezzi", ru:"Ğ¦ĞµĞ½Ñ‹", ua:"Ğ¦Ñ–Ğ½Ğ¸" }
    - slugKey: "order"
      order: 20
      labels: { pl:"ZamÃ³w", en:"Order", de:"Auftrag", fr:"Commande", it:"Ordina", ru:"Ğ—Ğ°ĞºĞ°Ğ·", ua:"Ğ—Ğ°Ğ¼Ğ¾Ğ²Ğ¸Ñ‚Ğ¸" }
    - slugKey: "schedules"
      order: 30
      labels: { pl:"Harmonogramy", en:"Schedules", de:"FahrplÃ¤ne", fr:"Horaires", it:"Orari", ru:"Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ", ua:"Ğ Ğ¾Ğ·ĞºĞ»Ğ°Ğ´Ğ¸" }
    - slugKey: "tracking"
      order: 40
      labels: { pl:"Åšledzenie", en:"Tracking", de:"Verfolgung", fr:"Suivi", it:"Tracciamento", ru:"ĞÑ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ", ua:"Ğ’Ñ–Ğ´ÑÑ‚ĞµĞ¶ĞµĞ½Ğ½Ñ" }
    - slugKey: "manage"
      order: 50
      labels: { pl:"ZarzÄ…dzaj", en:"Manage", de:"Verwalten", fr:"GÃ©rer", it:"Gestisci", ru:"Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚ÑŒ", ua:"ĞšĞµÑ€ÑƒĞ²Ğ°Ñ‚Ğ¸" }
    - slugKey: "services"
      order: 60
      labels: { pl:"UsÅ‚ugi", en:"Services", de:"Leistungen", fr:"Services", it:"Servizi", ru:"Ğ£ÑĞ»ÑƒĞ³Ğ¸", ua:"ĞŸĞ¾ÑĞ»ÑƒĞ³Ğ¸" }
    - slugKey: "company"
      order: 70
      labels: { pl:"Firma", en:"Company", de:"Unternehmen", fr:"Entreprise", it:"Azienda", ru:"ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ", ua:"ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ñ–Ñ" }
    - slugKey: "support"
      order: 80
      labels: { pl:"Wsparcie", en:"Support", de:"Support", fr:"Support", it:"Supporto", ru:"ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°", ua:"ĞŸÑ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ°" }
    - slugKey: "blog"
      order: 90
      labels: { pl:"Blog", en:"Blog", de:"Blog", fr:"Blog", it:"Blog", ru:"Ğ‘Ğ»Ğ¾Ğ³", ua:"Ğ‘Ğ»Ğ¾Ğ³" }
    - slugKey: "contact"
      order: 100
      labels: { pl:"Kontakt", en:"Contact", de:"Kontakt", fr:"Contact", it:"Contatti", ru:"ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹", ua:"ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚" }

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 8) DODATKOWE Å¹RÃ“DÅA (CSV) â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
sources:
  cities_csv:
    path: "assets/media/city.csv"          # TwÃ³j plik z miastami
    dialect: "auto"
    map_columns:
      city:        ["city","miasto"]
      voivodeship: ["voivodeship","region","wojewodztwo","wojewÃ³dztwo"]
      slug:        ["slug","link"]
      lang:        ["lang","jÄ™zyk","jezyk"]
  keywords_csv:
    path: "assets/media/slowa kluczowe.csv"
    dialect: "auto"
    map_columns:
      lang:   ["lang","jezyk","jÄ™zyk"]
      term:   ["keyword","sÅ‚owo","slowo","fraza"]
      type:   ["type","kategoria","rodzaj"]   # primary/secondary/brand/service
      weight: ["weight","waga","priorytet"]
      anchor: ["anchor","tekst_linku"]

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 9) KOLEKCJE â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
collections:
  pages:
    source: "cms.pages"
    filter: { publish: true }
    perLocale: true
    templates: { home:"templates/page.html", page:"templates/page.html", service:"templates/page.html",
                 city_service:"templates/location.html", contact:"templates/page.html", blog:"templates/blog_index.html",
                 blog_post:"templates/blog_post.html", job:"templates/job_item.html" }
    output: { pattern: "/{lang}/{slug}/", ensureTrailingSlash: true }
    seo:
      titleSuffix: " | Kras-Trans"
      canonicalFrom: "canonical_path"
      og_image_fallback: "/assets/media/og-default.webp"
      breadcrumbs: true
      hreflang: from-cms

  city_service:
    generate: true
    places:
      merge:
        - "cms.places"
        - "sources.cities_csv"
    services: "cms.pages[type=service]"
    langs: ["pl","en","de","fr","it","ru","ua"]
    limits: { perLang: 4000, maxPages: 20000 }  # 4000 = liczba STRON na jÄ™zyk
    slugPolicy: { pattern: "{service.slug}-{city.slug}", transliterate: true, lowercase: true }
    fields:
      type: "city_service"
      template: "templates/location.html"
      publish: true
      h1: "{service.h1} â€” {city.name}"
      title: "{service.title or service.h1} â€” {city.name}"
      seo_title: "{service.h1} â€” {city.name} | Kras-Trans"
      meta_desc: "Transport i spedycja â€” {service.h1} w {city.name}. Wycena w 15 min, kontakt 24/7."
      hero_alt: "{service.h1} {city.name}"
      lead: "{service.lead or service.title}"
    quality:
      thin_min_chars: 900
    linkGraph:
      neighbors: { byRegion: 2, altServices: 2 }
      cards:
        style: "tiles"
        explainer:
          enabled: true
          words: { min: 60, max: 90 }
          source:
            type: "cms.blocks"                     # teksty WYÅÄ„CZNIE z arkusza
            where: { type: "explainer", enabled: true }
            fields: { title: "title", body: "body_md", lang: "lang" }

blog:
  enabled: true
  pagination: { perPage: 12, path: "/{lang}/blog/page/{n}/", relPrevNext: true, page2_noindex: false }
  feeds: { rss: "/{lang}/feed.xml", atom: "/{lang}/atom.xml" }
  news_sitemap: { enabled: "${NEWS_ENABLED}", window_hours: 48 }

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 10) AUTO-LINKI (wyÅ‚Ä…cznie z arkusza) â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
autolinks:
  source: "cms.autolinks"                # kolumny: lang|anchor|href|enabled|(opcjonalnie rel|target)
  inline:
    maxPerPage: 6
    minDistanceChars: 160
    boundary: "word"
    ignoreSelectors: [".hero","nav",".footer","h1","h2"]
  fallback:
    enabled: true
    limit: 4
    style: "cards"
    explainer:
      use_templates: false               # brak twardych stringÃ³w w YML
      source:
        type: "cms.blocks"               # weÅº mikro-akapity z arkusza
        where: { type: "explainer", enabled: true }
        fields: { title: "title", body: "body_md", lang: "lang" }
      words: { min: 60, max: 90 }

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 11) SÅOWA KLUCZOWE / SCORING â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
keywords:
  # Frazy dynamiczne (rozszerzone) â€” budowane na podstawie miast
  dynamic_phrases:
    pl:
      - "transport {city}"
      - "firma transportowa {city}"
      - "firma spedycyjna {city}"
      - "logistyka {city}"
      - "spedycja {city}"
      - "transport krajowy {city}"
      - "transport miÄ™dzynarodowy {city}"
      - "transport palet {city}"
      - "transport ekspresowy {city}"
      - "operator logistyczny {city}"
      - "usÅ‚ugi transportowe {city}"
    en:
      - "transport {city}"
      - "logistics {city}"
      - "logistics company {city}"
      - "freight forwarding {city}"
      - "freight company {city}"
      - "shipping company {city}"
      - "road freight {city}"
      - "pallet transport {city}"
      - "express transport {city}"
    de:
      - "transport {city}"
      - "transportunternehmen {city}"
      - "logistik {city}"
      - "logistikunternehmen {city}"
      - "spedition {city}"
      - "speditionsunternehmen {city}"
      - "straÃŸengÃ¼terverkehr {city}"
      - "palettentransport {city}"
      - "express-transport {city}"
    fr:
      - "transport {city}"
      - "entreprise de transport {city}"
      - "logistique {city}"
      - "sociÃ©tÃ© de logistique {city}"
      - "transitaire {city}"
      - "sociÃ©tÃ© dâ€™expÃ©dition {city}"
      - "transport routier {city}"
      - "transport de palettes {city}"
      - "transport express {city}"
    it:
      - "trasporto {city}"
      - "azienda di trasporti {city}"
      - "logistica {city}"
      - "societÃ  di logistica {city}"
      - "spedizioni {city}"
      - "azienda di spedizioni {city}"
      - "trasporto su strada {city}"
      - "trasporto pallet {city}"
      - "trasporto espresso {city}"
    ru:
      - "Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚ {city}"
      - "Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ {city}"
      - "Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ° {city}"
      - "Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ {city}"
      - "ÑĞºÑĞ¿ĞµĞ´Ğ¸Ñ‚Ğ¾Ñ€ÑĞºĞ°Ñ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ {city}"
      - "Ğ³Ñ€ÑƒĞ·Ğ¾Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ·ĞºĞ¸ {city}"
      - "Ğ°Ğ²Ñ‚Ğ¾Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ·ĞºĞ¸ {city}"
      - "Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ·ĞºĞ° Ğ¿Ğ°Ğ»ĞµÑ‚ {city}"
      - "ÑĞºÑĞ¿Ñ€ĞµÑÑ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° {city}"
    ua:
      - "Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚ {city}"
      - "Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚Ğ½Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ñ–Ñ {city}"
      - "Ğ»Ğ¾Ğ³Ñ–ÑÑ‚Ğ¸ĞºĞ° {city}"
      - "Ğ»Ğ¾Ğ³Ñ–ÑÑ‚Ğ¸Ñ‡Ğ½Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ñ–Ñ {city}"
      - "ĞµĞºÑĞ¿ĞµĞ´Ğ¸Ñ‚Ğ¾Ñ€ÑÑŒĞºĞ° ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ñ–Ñ {city}"
      - "Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶Ğ½Ñ– Ğ¿ĞµÑ€ĞµĞ²ĞµĞ·ĞµĞ½Ğ½Ñ {city}"
      - "Ğ°Ğ²Ñ‚Ğ¾Ğ»Ğ¾Ğ³Ñ–ÑÑ‚Ğ¸ĞºĞ° {city}"
      - "Ğ¿ĞµÑ€ĞµĞ²ĞµĞ·ĞµĞ½Ğ½Ñ Ğ¿Ğ°Ğ»ĞµÑ‚ {city}"
      - "ĞµĞºÑĞ¿Ñ€ĞµÑ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° {city}"
  # Å¹rÃ³dÅ‚a sÅ‚Ã³w (Twoje CSV + ewentualne listy w CMS Strings)
  sources:
    - "sources.keywords_csv"
    - "cms.strings[keywords_*]"

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 12) SEO / HREFLANG / SCHEMA / SCORING â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
seo:
  titles:       { min: 30, max: 60, suffix: " | Kras-Trans" }
  descriptions: { min: 70, max: 160 }
  h1:           { required: true }
  canonical:    { enforce_https: true, trailing_slash: true }
  robots:
    default: { index: true, follow: true }
    noindex_rules:
      thin_content: { enabled: true, min_chars: 900, scope: ["city_service"] }
  hreflang:     { source: "cms.hreflang", x_default_on_home: true }
  open_graph:   { default_image: "/assets/media/og-default.webp" }
  twitter:      { card: "summary_large_image" }
  schema:
    enable:
      organization: true
      website_home: true
      breadcrumb: true
      faq: true
      service: true
      article: true
      jobposting: true
      localbusiness_city_service: true
  scoring:
    enabled: true
    fields: { primary: "primary_keywords", secondary: "secondary_keywords" }
    density: { min_pct: 0.5, max_pct: 2.0 }     # raportujemy, niczego nie â€upychaâ€
    coverage: { min_unique_words: 200, min_internal_links: 3, min_images: 1 }
    near_duplicate: { simhash_threshold: 0.90 }

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 13) SITEMAPS / INDEXNOW â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
sitemap:
  enabled: true
  index: true
  shard_size: 45000
  include_alternates: true
  path: "/sitemap.xml"
  priority_by_type: { home: 1.0, service: 0.9, city_service: 0.8, page: 0.7, blog: 0.6, blog_post: 0.5 }
  changefreq_by_type: { home: "daily", service: "weekly", city_service: "weekly", page: "monthly" }
  news: { enabled: "${NEWS_ENABLED}", ttl_hours: 48 }

indexing:
  discovery:
    robots_sitemap: true
    submit_sitemap_once: true
  google:
    indexing_api:
      enabled_for_types: ["job"]   # tylko JobPosting zgodnie z zasadami
  bing:
    indexnow:
      enabled: true
      endpoint: "https://api.indexnow.org/IndexNow"
      key: "${INDEXNOW_KEY}"
      batch_size: 1000
  ui_button:
    enabled: true
    label_pl: "Powiadom wyszukiwarki"
    scope: ["sitemap","changed_urls"]
    rate_limit_minutes: 30

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 14) ROBOTS / SECURITY / A11y â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
robots:
  allowAll: true
  extra:
    - "User-agent: *"
    - "Allow: /"
    - "Sitemap: ${SITE_URL}/sitemap.xml"

security:
  externalLinks: "noopener"
  targetBlankExternal: true
  csp_suggestion:
    default-src: ["'self'"]
    img-src:     ["'self'","data:","https:"]
    style-src:   ["'self'","'unsafe-inline'"]
    script-src:  ["'self'","https://script.google.com"]
    connect-src: ["'self'","https://script.google.com"]

a11y:
  require_alt: true
  min_contrast: "AA"
  focus_outline_color: "#22C3A6"
  skip_to_content: true

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 15) RAPORTY / TESTY â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
reports:
  out_dir: "dist/_reports"
  print_top_warnings: 50
  write_json: true
  metrics:
    - pages_count
    - generated_city_service
    - indexable_count
    - autolinks_inline_count
    - autolinks_fallback_count
    - thin_content_count
    - duplicate_titles_count
    - keyword_density_outside_range

testing:
  acceptance:
    - "URL bez /xx/ â†’ redirect do /pl/"
    - "Logo â†’ /{lang}/"
    - "Zmiana jÄ™zyka â†’ /{lang}/{homeSlug?}/"
    - "Mega-menu: open 140ms, close 360â€“420ms"
    - "Bottom-dock: sticky + FAB"
    - "Lighthouse: Perfâ‰¥95, A11yâ‰¥95, BPâ‰¥95, SEOâ‰¥98"
    - "CLS â‰ˆ 0"
  smoke:
    - "dist/sitemap.xml"
    - "dist/robots.txt"
    - "dist/pl/index.html"

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 16) BUILD / PERFORMANCE â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
build:
  engine: "jinja2"
  markdown: true
  critical_css: { header_inline: true, header_budget_bytes: 2000 }
  scripts: { deferAll: true, sourcemaps: false }
  images:  { convert: { avif: true, webp: true, quality: 78 } }
  page_speed_hints: { preload_lcp_image: true, preconnect_cms: true }
